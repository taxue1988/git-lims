# GCMS 滑块功能演示

## 🎬 功能演示

### 场景 1: 基本使用流程

```
用户操作                          系统响应
─────────────────────────────────────────────────────

1. 点击"查看结果"
                                  ↓
                            打开结果 Modal
                                  ↓
                            加载色谱图数据
                                  ↓
                            显示 TIC 色谱图
                                  ↓
                            初始化滑块
                                  ↓
                            显示时间范围

2. 拖动滑块到 30%
                                  ↓
                            计算对应保留时间
                                  ↓
                            实时显示保留时间
                                  ↓
                            300ms 后加载质谱图
                                  ↓
                            显示质谱数据

3. 继续拖动滑块到 60%
                                  ↓
                            重复上述过程
                                  ↓
                            显示新的质谱图

4. 点击"导出质谱图"
                                  ↓
                            生成 PNG 图表
                                  ↓
                            下载文件
```

### 场景 2: 实时交互演示

```
时间轴：
0ms     ┌─ 用户开始拖动滑块
        │
50ms    ├─ 滑块移动到 25%
        │  └─ 显示保留时间: 5.25
        │
100ms   ├─ 滑块移动到 50%
        │  └─ 显示保留时间: 10.50
        │
150ms   ├─ 滑块移动到 75%
        │  └─ 显示保留时间: 15.75
        │
200ms   ├─ 用户停止拖动
        │
300ms   ├─ 防抖延迟完成
        │  └─ 发送 API 请求
        │
500ms   ├─ 质谱数据返回
        │  └─ 渲染质谱图
        │
700ms   └─ 质谱图显示完成
```

## 📊 界面演示

### 初始状态

```
┌─────────────────────────────────────────────────────────┐
│ 分析结果 - 色谱图与质谱图      [导出色谱图] [导出质谱图] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ 色谱图（TIC）                 保留时间: [0.00] 分钟    │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │                                                   │  │
│ │  ╱╲                                               │  │
│ │ ╱  ╲      ╱╲                                       │  │
│ │╱    ╲    ╱  ╲    ╱╲                               │  │
│ │      ╲  ╱    ╲  ╱  ╲                              │  │
│ │       ╲╱      ╲╱    ╲╱                            │  │
│ │                                                   │  │
│ ├───────────────────────────────────────────────────┤  │
│ │ [●═══════════════════════════════════════════]   │  │
│ │  0.00                                    100.00  │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
│ 质谱图（MS）                  ℹ️ 在上方色谱图上拖动滑块 │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │                                                   │  │
│ │                    [等待加载...]                  │  │
│ │                                                   │  │
│ │                                                   │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ [关闭]                                                  │
└─────────────────────────────────────────────────────────┘
```

### 拖动滑块中

```
┌─────────────────────────────────────────────────────────┐
│ 分析结果 - 色谱图与质谱图      [导出色谱图] [导出质谱图] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ 色谱图（TIC）                 保留时间: [10.25] 分钟   │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │                                                   │  │
│ │  ╱╲                                               │  │
│ │ ╱  ╲      ╱╲                                       │  │
│ │╱    ╲    ╱  ╲    ╱╲  ← 指示当前位置              │  │
│ │      ╲  ╱    ╲  ╱  ╲                              │  │
│ │       ╲╱      ╲╱    ╲╱                            │  │
│ │                                                   │  │
│ ├───────────────────────────────────────────────────┤  │
│ │ [═════════════●═════════════════════════════════] │  │
│ │  0.00                                    100.00  │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
│ 质谱图（MS）                  ⏳ 加载质谱数据中...     │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │                                                   │  │
│ │                  [⟳ 加载中...]                   │  │
│ │                                                   │  │
│ │                                                   │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ [关闭]                                                  │
└─────────────────────────────────────────────────────────┘
```

### 质谱图加载完成

```
┌─────────────────────────────────────────────────────────┐
│ 分析结果 - 色谱图与质谱图      [导出色谱图] [导出质谱图] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ 色谱图（TIC）                 保留时间: [10.25] 分钟   │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │                                                   │  │
│ │  ╱╲                                               │  │
│ │ ╱  ╲      ╱╲                                       │  │
│ │╱    ╲    ╱  ╲    ╱╲                               │  │
│ │      ╲  ╱    ╲  ╱  ╲                              │  │
│ │       ╲╱      ╲╱    ╲╱                            │  │
│ │                                                   │  │
│ ├───────────────────────────────────────────────────┤  │
│ │ [═════════════●═════════════════════════════════] │  │
│ │  0.00                                    100.00  │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
│ 质谱图（MS）                  ✓ 保留时间: 10.25 分钟  │
│ ┌───────────────────────────────────────────────────┐  │
│ │                                                   │  │
│ │  ║  ║  ║║  ║  ║                                   │  │
│ │  ║  ║║ ║║ ║║  ║  ║  ║                             │  │
│ │ ║║ ║║║║║║║║║ ║║ ║║ ║║ ║║                          │  │
│ │ ║║║║║║║║║║║║║║║║║║║║║║║║║║                        │  │
│ │ ║║║║║║║║║║║║║║║║║║║║║║║║║║                        │  │
│ │ ║║║║║║║║║║║║║║║║║║║║║║║║║║                        │  │
│ │                                                   │  │
│ └───────────────────────────────────────────────────┘  │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ [关闭]                                                  │
└─────────────────────────────────────────────────────────┘
```

## 🎮 交互演示

### 演示 1: 从左到右拖动

```
步骤 1: 滑块在最左边
[●═══════════════════════════════════════════]
 0%                                        100%
 保留时间: 0.00 分钟

步骤 2: 滑块移动到 25%
[═════●═══════════════════════════════════════]
 0%                                        100%
 保留时间: 5.25 分钟

步骤 3: 滑块移动到 50%
[═════════════●═════════════════════════════]
 0%                                        100%
 保留时间: 10.50 分钟

步骤 4: 滑块移动到 75%
[═════════════════════●═══════════════════════]
 0%                                        100%
 保留时间: 15.75 分钟

步骤 5: 滑块在最右边
[═════════════════════════════════════════════●]
 0%                                        100%
 保留时间: 21.00 分钟
```

### 演示 2: 精确定位

```
目标: 找到主要峰值对应的质谱图

步骤 1: 观察色谱图
  ╱╲
 ╱  ╲      ╱╲  ← 主要峰值在这里
╱    ╲    ╱  ╲
      ╲  ╱    ╲
       ╲╱      ╲╱

步骤 2: 拖动滑块到峰值位置
[═════════════●═════════════════════════════]
 0%                                        100%
 保留时间: 10.50 分钟

步骤 3: 查看对应的质谱图
 ║  ║  ║║  ║  ║
 ║  ║║ ║║ ║║  ║  ║  ║
║║ ║║║║║║║║║ ║║ ║║ ║║ ║║
║║║║║║║║║║║║║║║║║║║║║║║║║║
```

## 📱 响应式演示

### 桌面版（1920x1080）

```
┌────────────────────────────────────────────────────────────┐
│ 分析结果 - 色谱图与质谱图      [导出色谱图] [导出质谱图]  │
├────────────────────────────────────────────────────────────┤
│                                                            │
│ 色谱图（TIC）                 保留时间: [10.25] 分钟     │
│ ┌──────────────────────────────────────────────────────┐  │
│ │ [折线图 - 完整显示]                                 │  │
│ │                                                      │  │
│ └──────────────────────────────────────────────────────┘  │
│ [====●═══════════════════════════════════════════════]   │
│  0.00                                           100.00   │
│                                                            │
│ 质谱图（MS）                  ✓ 保留时间: 10.25 分钟    │
│ ┌──────────────────────────────────────────────────────┐  │
│ │ [柱状图 - 完整显示]                                 │  │
│ │                                                      │  │
│ └──────────────────────────────────────────────────────┘  │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

### 平板版（768x1024）

```
┌──────────────────────────────────────┐
│ 分析结果 - 色谱图与质谱图 [导出][导出]│
├──────────────────────────────────────┤
│                                      │
│ 色谱图（TIC）  保留时间: [10.25]    │
│ ┌────────────────────────────────┐  │
│ │ [折线图]                       │  │
│ └────────────────────────────────┘  │
│ [====●═════════════════════════]   │
│  0.00                       100.00  │
│                                      │
│ 质谱图（MS）   ✓ 保留时间: 10.25   │
│ ┌────────────────────────────────┐  │
│ │ [柱状图]                       │  │
│ └────────────────────────────────┘  │
│                                      │
└──────────────────────────────────────┘
```

### 手机版（375x667）

```
┌──────────────────────┐
│ 分析结果 [导出][导出] │
├──────────────────────┤
│                      │
│ 色谱图（TIC）        │
│ 保留时间: [10.25]   │
│ ┌──────────────────┐ │
│ │ [折线图]         │ │
│ └──────────────────┘ │
│ [====●═════════════] │
│  0.00         100.00 │
│                      │
│ 质谱图（MS）         │
│ ✓ 保留时间: 10.25   │
│ ┌──────────────────┐ │
│ │ [柱状图]         │ │
│ └──────────────────┘ │
│                      │
└──────────────────────┘
```

## 🎯 使用场景演示

### 场景 1: 快速浏览

```
用户目标: 快速查看不同时间的质谱图

操作:
1. 打开结果 (1秒)
2. 快速拖动滑块 (3秒)
3. 观察质谱图变化 (2秒)

总耗时: 6秒
```

### 场景 2: 精确分析

```
用户目标: 找到特定峰值的质谱图

操作:
1. 打开结果 (1秒)
2. 观察色谱图找到峰值 (2秒)
3. 缓慢拖动滑块到峰值 (3秒)
4. 分析质谱图 (5秒)

总耗时: 11秒
```

### 场景 3: 对比分析

```
用户目标: 对比两个时间点的质谱图

操作:
1. 打开结果 (1秒)
2. 拖动到第一个时间点 (2秒)
3. 记录质谱特征 (3秒)
4. 拖动到第二个时间点 (2秒)
5. 对比质谱特征 (3秒)

总耗时: 11秒
```

## 🎬 动画演示

### 滑块拖动动画

```
帧 1: [●═══════════════════════════════════════════]
帧 2: [═●══════════════════════════════════════════]
帧 3: [══●═════════════════════════════════════════]
帧 4: [═══●════════════════════════════════════════]
帧 5: [════●═══════════════════════════════════════]
...
帧 N: [═════════════════════════════════════════════●]
```

### 质谱图加载动画

```
状态 1: ⏳ 加载质谱数据中...
状态 2: ⟳ 加载质谱数据中...
状态 3: ⟲ 加载质谱数据中...
状态 4: ✓ 保留时间: 10.25 分钟
```

## 📊 数据流演示

```
用户拖动滑块
    ↓
JavaScript 捕获 input 事件
    ↓
计算对应的保留时间值
    ↓
更新保留时间显示
    ↓
清除之前的防抖计时器
    ↓
设置新的防抖计时器 (300ms)
    ↓
300ms 后发送 WebSocket 消息
    ↓
Worker 接收消息
    ↓
提取质谱数据
    ↓
返回数据给前端
    ↓
前端接收数据
    ↓
渲染质谱图
    ↓
显示完成
```

---

**演示完成！** 🎉

这就是 GCMS 滑块功能的完整演示。

**关键特点**:
- ✅ 直观的拖动操作
- ✅ 实时反馈
- ✅ 流畅的交互体验
- ✅ 响应式设计
- ✅ 高效的性能

**立即体验**: 打开结果页面，拖动滑块开始探索！

